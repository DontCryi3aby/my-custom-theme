

<div class="wrap">
    {% for block in section.blocks %}
        {% case block.type %}
            {% when 'image' %}
            <div class="image" {{ block.shopify_attributes }}>
                {{ block.settings.image | image_url: height: 200 | image_tag }}
    
                <h4 class="text">{{  block.settings.text }}</h4>
            </div>
        {% endcase %}
    {% endfor %}
</div>

<div class="dots">
    {% assign blocksLength = section.blocks | size | divided_by: 3.0 | ceil  %}

    {% for i in (1..blocksLength) %}
        <span class="dot {% if i == 1 %}active{% endif %}" {{ block.shopify_attributes }}>
        </span>
    {%endfor %}
</div>



<style>
    .image-with-text {
        width: 1200px;
        margin: 0 auto;
        overflow: hidden;
    }

    .wrap {
        display: flex;
        width: 100%;
        margin-left: -10px;
        margin-right: -10px;
    }

    .image {
        flex: 1 0 34%;
        padding: 0 10px;
        position: relative;
    }

    .image img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .text {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-weight: bold;
        font-size: 20px;
        color: #fff;
    }

    .dots {
        width: 100%;
        text-align: center;
    }

    .dot {
        display: inline-block;
        width: 16px;
        height: 16px;
        border-radius: 50%;
        margin: 10px 4px;
        cursor: pointer;
        background-color: #ddd;
    }

    .dot.active {
        background-color: yellow;
    }
</style>

{% schema %}
{
    "name": "Image-With-Text",
    "tag": "section",
    "class": "image-with-text",
    "settings": [
      {
        "type": "text",
        "id": "title",
        "label": "Slideshow"
      }
    ],
    "blocks": [
       {
         "name": "Image",
         "type": "image",
         "settings": [
           {
                "type": "image_picker",
                "id": "image",
                "label": "Add image"
           },
           {
                "type": "text",
                "id": "text",
                "label": "Add text"
            }
         ]
       }
     ]
  }
{% endschema %}